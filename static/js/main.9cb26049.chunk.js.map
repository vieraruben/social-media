{"version":3,"sources":["config.js","components/auth/api-auth.js","components/auth/auth-helper.js","components/user/api-user.js","components/user/FindPeople.js","components/post/api-post.js","components/post/Comments.js","components/post/Post.js","components/post/PostList.js","components/post/NewPost.js","components/post/Newsfeed.js","components/core/Home.js","components/user/Users.js","components/user/Signup.js","components/auth/Signin.js","components/user/EditProfile.js","components/user/DeleteUser.js","components/user/FollowProfileButton.js","components/user/FollowGrid.js","components/user/ProfileTabs.js","components/user/Profile.js","components/auth/PrivateRoute.js","components/core/Menu.js","MainRouter.js","theme.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","apiUrl","signin","user","a","fetch","config","method","headers","body","JSON","stringify","response","json","console","log","signout","auth","isAuthenticated","window","sessionStorage","getItem","parse","authenticate","jwt","cb","setItem","clearJWT","removeItem","then","data","document","cookie","create","list","signal","read","params","credentials","userId","t","update","remove","follow","followId","unfollow","unfollowId","findPeople","useStyles","makeStyles","theme","root","mixins","gutters","padding","spacing","margin","title","color","palette","openTitle","fontSize","avatar","marginRight","right","snack","protectedTitle","viewButton","verticalAlign","FindPeople","classes","useState","users","open","followMessage","values","setValues","search","setSearch","useEffect","abortController","AbortController","_id","token","error","abort","Paper","className","elevation","Typography","type","TextField","placeholder","onChange","event","target","value","List","filter","item","name","indexOf","map","i","ListItem","ListItemAvatar","Avatar","src","ListItemText","primary","ListItemSecondaryAction","to","IconButton","variant","Button","aria-label","onClick","index","toFollow","splice","Snackbar","anchorOrigin","vertical","horizontal","onClose","reason","autoHideDuration","message","post","listByUser","listNewsFeed","postId","like","unlike","comment","uncomment","cardHeader","paddingTop","paddingBottom","smallAvatar","width","height","commentField","commentText","backgroundColor","commentDate","display","commentDelete","cursor","Comments","props","text","setText","commentBody","postedBy","Date","created","toDateString","Icon","updateComments","comments","CardHeader","onKeyDown","keyCode","preventDefault","multiline","card","maxWidth","marginBottom","cardContent","photo","textAlign","media","button","Post","checkLike","likes","length","clickLike","Card","action","onRemove","subheader","CardContent","component","CardActions","Divider","PostList","style","marginTop","posts","removeUpdate","boxShadow","photoButton","input","textField","marginLeft","submit","filename","NewPost","handleChange","files","photoURL","rows","accept","id","htmlFor","disabled","postData","FormData","append","addUpdate","minHeight","Newsfeed","setPosts","updatedPosts","unshift","flexGrow","secondary","credit","borderBottom","Home","history","defaultPage","setDefaultPage","unlisten","listen","Grid","container","xs","sm","Users","setUsers","allUsers","dense","Signup","password","email","label","undefined","Dialog","disableBackdropClick","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Signin","redirectToReferrer","from","location","state","pathname","bigAvatar","EditProfile","match","about","redirectToProfile","photoUrl","getTime","userData","passoword","DeleteUser","setOpen","redirect","setRedirect","handleRequestClose","FollowProfileButton","following","onButtonClick","flexWrap","justifyContent","overflow","background","paper","gridList","tileText","FollowGrid","GridList","cellHeight","cols","people","person","GridListTile","ProfileTabs","tab","setTab","AppBar","position","Tabs","indicatorColor","textColor","Tab","removePostUpdate","followers","TabContainer","children","Profile","redirectToSignin","checkFollow","loadPosts","some","follower","callApi","PrivateRoute","Component","rest","render","isActive","path","Menu","withRouter","Toolbar","push","MainRouter","exact","createMuiTheme","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9cb26049.chunk.js","sourcesContent":["const config = {\n  apiUrl: \"https://rv-social-media.herokuapp.com\" \n}\n\nmodule.exports = config\n","import config from '../../config'\n\nconst signin = async (user) => {\n  try {\n    let response = await fetch(config.apiUrl+'/auth/signin/', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst signout = async () => {\n  try {\n    let response = await fetch(config.apiUrl+'/auth/signout/', { method: 'GET' })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nexport {\n  signin,\n  signout\n}\n","import { signout } from './api-auth.js'\n\nconst auth = {\n  isAuthenticated() {\n    if (typeof window == \"undefined\")\n      return false\n\n    if (sessionStorage.getItem('jwt'))\n      return JSON.parse(sessionStorage.getItem('jwt'))\n    else\n      return false\n  },\n  authenticate(jwt, cb) {\n    if (typeof window !== \"undefined\")\n      sessionStorage.setItem('jwt', JSON.stringify(jwt))\n    cb()\n  },\n  clearJWT(cb) {\n    if (typeof window !== \"undefined\")\n      sessionStorage.removeItem('jwt')\n    cb()\n    //optional\n    signout().then((data) => {\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\"\n    })\n  }\n}\n\nexport default auth\n","import config from '../../config'\n\nconst create = async (user) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst list = async (signal) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/', {\n      method: 'GET',\n      signal: signal\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst read = async (params, credentials, signal) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/' + params.userId, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n  })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst update = async (params, credentials, user) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/' + params.userId, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: user\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst remove = async (params, credentials) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/' + params.userId, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst follow = async (params, credentials, followId) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/follow/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, followId: followId})\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst unfollow = async (params, credentials, unfollowId) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/unfollow/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, unfollowId: unfollowId})\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst findPeople = async (params, credentials, signal) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/users/findpeople/' + params.userId, {\n      method: 'GET',\n      signal: signal,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })    \n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nexport {\n  create,\n  list,\n  read,\n  update,\n  remove,\n  follow,\n  unfollow,\n  findPeople\n}\n","import React, {useState, useEffect} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction' \nimport ListItemText from '@material-ui/core/ListItemText' \nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport {Link} from 'react-router-dom'\nimport {findPeople, follow} from './api-user.js'\nimport auth from './../auth/auth-helper'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport ViewIcon from '@material-ui/icons/Visibility'\nimport TextField from '@material-ui/core/TextField'\nimport { apiUrl } from '../../config'\n\nconst useStyles = makeStyles(theme => ({\n  root: theme.mixins.gutters({\n    padding: theme.spacing(1),\n    margin: 0\n  }),\n  title: {\n    margin: `${theme.spacing(3)}px ${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    color: theme.palette.openTitle,\n    fontSize: '1em'\n  },\n  avatar: {\n    marginRight: theme.spacing(1)\n  },\n  follow: {\n    right: theme.spacing(2)\n  },\n  snack: {\n    color: theme.palette.protectedTitle\n  },\n  viewButton: {\n    verticalAlign: 'middle'\n  }\n}))\n\nexport default function FindPeople() {\n  const classes = useStyles()\n  const [values, setValues] = useState({\n    users: [],\n    open: false,\n    followMessage: ''\n  })\n  const [search, setSearch] = useState(\"\")\n  const jwt = auth.isAuthenticated()\n\n  useEffect(() => {\n    const abortController = new AbortController()\n    const signal = abortController.signal\n\n    findPeople({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, signal).then((data) => {\n      if (data && data.error) {\n        console.log(data.error)\n      } else {\n        setValues({...values, users:data})\n      }\n    })\n    return function cleanup(){\n      abortController.abort()\n    }\n\n  }, [])\n  const clickFollow = (user, index) => {\n    follow({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, user._id).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        let toFollow = values.users\n        toFollow.splice(index, 1)\n        setValues({...values, users: toFollow, open: true, followMessage: `Following ${user.name}!`})\n      }\n    })\n  }\n  const handleRequestClose = (event, reason) => {\n    setValues({...values, open: false })\n  }\n    return (<div>\n      <Paper className={classes.root} elevation={4}>\n        <Typography type=\"title\" className={classes.title}>\n          Whan to follow\n        </Typography>\n        <TextField \n          placeholder=\"User name\" \n          onChange={event => setSearch(event.target.value)}\n        />\n        <List>\n          {values.users.filter(item => item.name.indexOf(search) != -1).map((item, i) => {\n              return <span key={i}>\n                <ListItem>\n                  <ListItemAvatar className={classes.avatar}>\n                      <Avatar src={apiUrl+'/api/users/photo/'+item._id}/>\n                  </ListItemAvatar>\n                  <ListItemText primary={item.name}/>\n                  <ListItemSecondaryAction className={classes.follow}>\n                    <Link to={\"/user/\" + item._id}>\n                      <IconButton variant=\"contained\" color=\"secondary\" className={classes.viewButton}>\n                        <ViewIcon/>\n                      </IconButton>\n                    </Link>\n                    <Button aria-label=\"Follow\" variant=\"contained\" color=\"primary\" onClick={()=> {clickFollow(item, i)}}>\n                      Follow\n                    </Button>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              </span>\n            })\n          }\n        </List>\n      </Paper>\n      <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          open={values.open}\n          onClose={handleRequestClose}\n          autoHideDuration={6000}\n          message={<span className={classes.snack}>{values.followMessage}</span>}\n      />\n    </div>)\n}\n","import config from '../../config'\n\nconst create = async (params, credentials, post) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/new/'+ params.userId, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: post\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst listByUser = async (params, credentials) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/by/'+ params.userId, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst listNewsFeed = async (params, credentials, signal) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/feed/'+ params.userId, {\n      method: 'GET',\n      signal: signal,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })    \n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\nconst remove = async (params, credentials) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/' + params.postId, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      }\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\n\nconst like = async (params, credentials, postId) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/like/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, postId: postId})\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\n\nconst unlike = async (params, credentials, postId) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/unlike/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, postId: postId})\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\n\nconst comment = async (params, credentials, postId, comment) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/comment/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, postId: postId, comment: comment})\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\n\nconst uncomment = async (params, credentials, postId, comment) => {\n  try {\n    let response = await fetch(config.apiUrl+'/api/posts/uncomment/', {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + credentials.t\n      },\n      body: JSON.stringify({userId:params.userId, postId: postId, comment: comment})\n    })\n    return await response.json()\n  } catch(err) {\n    console.log(err)\n  }\n}\n\n\nexport {\n  listNewsFeed,\n  listByUser,\n  create,\n  remove,\n  like,\n  unlike,\n  comment,\n  uncomment\n}\n","import React, {useState} from 'react'\nimport auth from './../auth/auth-helper'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport TextField from '@material-ui/core/TextField'\nimport Avatar from '@material-ui/core/Avatar'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {comment, uncomment} from './api-post.js'\nimport {Link} from 'react-router-dom'\nimport { apiUrl } from '../../config'\n\nconst useStyles = makeStyles(theme => ({\n  cardHeader: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  },\n  smallAvatar: {\n    width: 25,\n    height: 25\n  },\n  commentField: {\n    width: '96%'\n  },\n  commentText: {\n    backgroundColor: 'white',\n    padding: theme.spacing(1),\n    margin: `2px ${theme.spacing(2)}px 2px 2px`\n  },\n  commentDate: {\n    display: 'block',\n    color: 'gray',\n    fontSize: '0.8em'\n },\n commentDelete: {\n   fontSize: '1.6em',\n   verticalAlign: 'middle',\n   cursor: 'pointer'\n }\n}))\n\nexport default function Comments (props) {\n  const classes = useStyles()\n  const [text, setText] = useState('')\n  const jwt = auth.isAuthenticated()\n  const handleChange = event => {\n    setText(event.target.value)\n  }\n  const addComment = (event) => {\n    if(event.keyCode == 13 && event.target.value){\n      event.preventDefault()\n      comment({\n        userId: jwt.user._id\n      }, {\n        t: jwt.token\n      }, props.postId, {text: text}).then((data) => {\n        if (data.error) {\n          console.log(data.error)\n        } else {\n          setText('')\n          props.updateComments(data.comments)\n        }\n      })\n    }\n  }\n\n  const deleteComment = comment => event => {\n    uncomment({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, props.postId, comment).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        props.updateComments(data.comments)\n      }\n    })\n  }\n\n    const commentBody = item => {\n      return (\n        <p className={classes.commentText}>\n          <Link to={\"/user/\" + item.postedBy._id}>{item.postedBy.name}</Link><br/>\n          {item.text}\n          <span className={classes.commentDate}>\n            {(new Date(item.created)).toDateString()} |\n            {auth.isAuthenticated().user._id === item.postedBy._id &&\n              <Icon onClick={deleteComment(item)} className={classes.commentDelete}>delete</Icon> }\n          </span>\n        </p>\n      )\n    }\n\n    return (<div>\n        <CardHeader\n              avatar={\n                <Avatar className={classes.smallAvatar} src={apiUrl+'/api/users/photo/'+auth.isAuthenticated().user._id}/>\n              }\n              title={ <TextField\n                onKeyDown={addComment}\n                multiline\n                value={text}\n                onChange={handleChange}\n                placeholder=\"Write something ...\"\n                className={classes.commentField}\n                margin=\"normal\"\n                />}\n              className={classes.cardHeader}\n        />\n        { props.comments.map((item, i) => {\n            return <CardHeader\n                      avatar={\n                        <Avatar className={classes.smallAvatar} src={apiUrl+'/api/users/photo/'+item.postedBy._id}/>\n                      }\n                      title={commentBody(item)}\n                      className={classes.cardHeader}\n                      key={i}/>\n              })\n        }\n    </div>)\n}\n\nComments.propTypes = {\n  postId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  updateComments: PropTypes.func.isRequired\n}\n","import React, {useState, useEffect} from 'react'\nimport auth from './../auth/auth-helper'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Typography from '@material-ui/core/Typography'\nimport Avatar from '@material-ui/core/Avatar'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport CommentIcon from '@material-ui/icons/Comment'\nimport Divider from '@material-ui/core/Divider'\nimport PropTypes from 'prop-types'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {Link} from 'react-router-dom'\nimport {remove, like, unlike} from './api-post.js'\nimport Comments from './Comments'\nimport { apiUrl } from '../../config'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth:600,\n    margin: 'auto',\n    marginBottom: theme.spacing(3),\n    backgroundColor: 'rgba(0, 0, 0, 0.06)'\n  },\n  cardContent: {\n    backgroundColor: 'white',\n    padding: `${theme.spacing(2)}px 0px`\n  },\n  cardHeader: {\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1)\n  },\n  text: {\n    margin: theme.spacing(2)\n  },\n  photo: {\n    textAlign: 'center',\n    backgroundColor: '#f2f5f4',\n    padding:theme.spacing(1)\n  },\n  media: {\n    height: 200\n  },\n  button: {\n   margin: theme.spacing(1),\n  }\n}))\n\nexport default function Post (props){\n  const classes = useStyles()\n  const jwt = auth.isAuthenticated()\n  const checkLike = (likes) => {\n    let match = likes.indexOf(jwt.user._id) !== -1\n    return match\n  }\n  const [values, setValues] = useState({\n    like: checkLike(props.post.likes),\n    likes: props.post.likes.length,\n    comments: props.post.comments\n  })\n  \n  useEffect(() => {\n    setValues({...values, like:checkLike(props.post.likes), likes: props.post.likes.length, comments: props.post.comments})\n  }, [])\n\n  \n\n  const clickLike = () => {\n    let callApi = values.like ? unlike : like\n    callApi({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, props.post._id).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        setValues({...values, like: !values.like, likes: data.likes.length})\n      }\n    })\n  }\n\n  const updateComments = (comments) => {\n    setValues({...values, comments: comments})\n  }\n\n  const deletePost = () => {   \n    remove({\n      postId: props.post._id\n    }, {\n      t: jwt.token\n    }).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        props.onRemove(props.post)\n      }\n    })\n  }\n\n    return (\n      <Card className={classes.card}>\n        <CardHeader\n            avatar={\n              <Avatar src={apiUrl+'/api/users/photo/'+props.post.postedBy._id}/>\n            }\n            action={props.post.postedBy._id === auth.isAuthenticated().user._id &&\n              <IconButton onClick={deletePost}>\n                <DeleteIcon />\n              </IconButton>\n            }\n            title={<Link to={\"/user/\" + props.post.postedBy._id}>{props.post.postedBy.name}</Link>}\n            subheader={(new Date(props.post.created)).toDateString()}\n            className={classes.cardHeader}\n          />\n        <CardContent className={classes.cardContent}>\n          <Typography component=\"p\" className={classes.text}>\n            {props.post.text}\n          </Typography>\n          {props.post.photo &&\n            (<div className={classes.photo}>\n              <img\n                className={classes.media}\n                src={apiUrl+'/api/posts/photo/'+props.post._id}\n                />\n            </div>)}\n        </CardContent>\n        <CardActions>\n          { values.like\n            ? <IconButton onClick={clickLike} className={classes.button} aria-label=\"Like\" color=\"secondary\">\n                <FavoriteIcon />\n              </IconButton>\n            : <IconButton onClick={clickLike} className={classes.button} aria-label=\"Unlike\" color=\"secondary\">\n                <FavoriteBorderIcon />\n              </IconButton> } <span>{values.likes}</span>\n              <IconButton className={classes.button} aria-label=\"Comment\" color=\"secondary\">\n                <CommentIcon/>\n              </IconButton> <span>{values.comments.length}</span>\n        </CardActions>\n        <Divider/>\n        <Comments postId={props.post._id} comments={values.comments} updateComments={updateComments}/>\n      </Card>\n    )\n  \n}\n\nPost.propTypes = {\n  post: PropTypes.object.isRequired,\n  onRemove: PropTypes.func.isRequired\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Post from './Post'\n\nexport default function PostList (props) {\n    return (\n      <div style={{marginTop: '24px'}}>\n        {props.posts.map((item, i) => {\n            return <Post post={item} key={i} onRemove={props.removeUpdate}/>\n          })\n        }\n      </div>\n    )\n}\nPostList.propTypes = {\n  posts: PropTypes.array.isRequired,\n  removeUpdate: PropTypes.func.isRequired\n}\n","import React, {useState, useEffect} from 'react'\nimport auth from './../auth/auth-helper'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Avatar from '@material-ui/core/Avatar'\nimport Icon from '@material-ui/core/Icon'\nimport PropTypes from 'prop-types'\nimport {makeStyles} from '@material-ui/core/styles'\nimport {create} from './api-post.js'\nimport IconButton from '@material-ui/core/IconButton'\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\nimport { apiUrl } from '../../config'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: '#efefef',\n    padding: `${theme.spacing(3)}px 0px 1px`\n  },\n  card: {\n    maxWidth:600,\n    margin: 'auto',\n    marginBottom: theme.spacing(3),\n    backgroundColor: 'rgba(65, 150, 136, 0.09)',\n    boxShadow: 'none'\n  },\n  cardContent: {\n    backgroundColor: 'white',\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  cardHeader: {\n    paddingTop: 8,\n    paddingBottom: 8\n  },\n  photoButton: {\n    height: 30,\n    marginBottom: 5\n  },\n  input: {\n    display: 'none',\n  },\n  textField: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    width: '90%'\n  },\n  submit: {\n    margin: theme.spacing(2)\n  },\n  filename:{\n    verticalAlign: 'super'\n  }\n}))\n\nexport default function NewPost (props){\n  const classes = useStyles()\n  const [values, setValues] = useState({\n    text: '',\n    photo: '',\n    error: '',\n    user: {}\n  })\n  const jwt = auth.isAuthenticated()\n  useEffect(() => {\n    setValues({...values, user: auth.isAuthenticated().user})\n  }, [])\n  const clickPost = () => {\n    let postData = new FormData()\n    postData.append('text', values.text)\n    postData.append('photo', values.photo)\n    create({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, postData).then((data) => {\n      if (data.error) {\n        setValues({...values, error: data.error})\n      } else {\n        setValues({...values, text:'', photo: ''})\n        props.addUpdate(data)\n      }\n    })\n  }\n  const handleChange = name => event => {\n    const value = name === 'photo'\n      ? event.target.files[0]\n      : event.target.value\n    setValues({...values, [name]: value })\n  }\n  const photoURL = values.user._id ?apiUrl+'/api/users/photo/'+ values.user._id : apiUrl+'/api/users/defaultphoto'\n    return (<div className={classes.root}>\n      <Card className={classes.card}>\n      <CardHeader\n            avatar={\n              <Avatar src={photoURL}/> \n            }\n            title={values.user.name}\n            className={classes.cardHeader}\n          />\n      <CardContent className={classes.cardContent}>\n        <TextField\n            placeholder=\"Share your thoughts ...\"\n            multiline\n            rows=\"3\"\n            value={values.text}\n            onChange={handleChange('text')}\n            className={classes.textField}\n            margin=\"normal\"\n        />\n        <input accept=\"image/*\" onChange={handleChange('photo')} className={classes.input} id=\"icon-button-file\" type=\"file\" />\n        <label htmlFor=\"icon-button-file\">\n          <IconButton color=\"secondary\" className={classes.photoButton} component=\"span\">\n            <PhotoCamera />\n          </IconButton>\n        </label> <span className={classes.filename}>{values.photo ? values.photo.name : ''}</span>\n        { values.error && (<Typography component=\"p\" color=\"error\">\n            <Icon color=\"error\" className={classes.error}>error</Icon>\n              {values.error}\n            </Typography>)\n        }\n      </CardContent>\n      <CardActions>\n        <Button color=\"primary\" variant=\"contained\" disabled={values.text === ''} onClick={clickPost} className={classes.submit}>POST</Button>\n      </CardActions>\n    </Card>\n  </div>)\n\n}\n\nNewPost.propTypes = {\n  addUpdate: PropTypes.func.isRequired\n}\n\n","import React, {useState, useEffect} from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport auth from './../auth/auth-helper'\nimport PostList from './PostList'\nimport {listNewsFeed} from './api-post.js'\nimport NewPost from './NewPost'\n\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    margin: 'auto',\n    paddingTop: 0,\n    paddingBottom: theme.spacing(3)\n  },\n  title: {\n    padding:`${theme.spacing(3)}px ${theme.spacing(2.5)}px ${theme.spacing(2)}px`,\n    color: theme.palette.openTitle,\n    fontSize: '1em'\n  },\n  media: {\n    minHeight: 330\n  }\n}))\nexport default function Newsfeed () {\n  const classes = useStyles()\n  const [posts, setPosts] = useState([])\n  const jwt = auth.isAuthenticated()\n\n  useEffect(() => {\n    const abortController = new AbortController()\n    const signal = abortController.signal\n\n    listNewsFeed({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, signal).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        setPosts(data)\n      }\n    })\n    return function cleanup(){\n      abortController.abort()\n    }\n\n  }, [])\n\n  const addPost = (post) => {\n    const updatedPosts = [...posts]\n    updatedPosts.unshift(post)\n    setPosts(updatedPosts)\n  }\n  const removePost = (post) => {\n    const updatedPosts = [...posts]\n    const index = updatedPosts.indexOf(post)\n    updatedPosts.splice(index, 1)\n    setPosts(updatedPosts)\n  }\n\n    return (\n      <Card className={classes.card}>\n        <Typography type=\"title\" className={classes.title}>\n          Newsfeed\n        </Typography>\n        <Divider/>\n        <NewPost addUpdate={addPost}/>\n        <Divider/>\n        <PostList removeUpdate={removePost} posts={posts}/>\n      </Card>\n    )\n}\n\n","import React, {useState, useEffect} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport auth from './../auth/auth-helper'\nimport FindPeople from './../user/FindPeople'\nimport Newsfeed from './../post/Newsfeed'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    margin: 30,\n  },\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    marginTop: theme.spacing(5),\n    marginBottom: theme.spacing(5)\n  },\n  title: {\n    padding:`${theme.spacing(3)}px ${theme.spacing(2.5)}px ${theme.spacing(2)}px`,\n    color: theme.palette.text.secondary,\n    textAlign: 'center'\n  },\n  media: {\n    minHeight: 400\n  },\n  credit: {\n    padding: 10,\n    textAlign: 'right',\n    backgroundColor: '#ededed',\n    borderBottom: '1px solid #d0d0d0',\n    '& a':{\n      color: '#3f4771'\n    } \n  }\n}))\n\nexport default function Home({history}){\n  const classes = useStyles()\n  const [defaultPage, setDefaultPage] = useState(false)\n\n  useEffect(()=> {\n    setDefaultPage(auth.isAuthenticated())\n    const unlisten = history.listen (() => {\n      setDefaultPage(auth.isAuthenticated())\n    })\n    return () => {\n      unlisten()\n    }\n  }, [])\n\n    return (\n      <div className={classes.root}>\n        { !defaultPage &&\n          <Grid container spacing={8}>\n            <Grid item xs={12}>\n              <Card className={classes.card}>\n                <Typography variant=\"h6\" className={classes.title}>\n                  Welcome\n                </Typography>\n              </Card>\n            </Grid>\n          </Grid>\n        }\n        {defaultPage &&\n          <Grid container spacing={8}>\n            <Grid item xs={8} sm={7}>\n              <Newsfeed/>\n            </Grid>\n            <Grid item xs={6} sm={5}>\n              <FindPeople/>\n            </Grid>\n          </Grid>\n        }\n      </div>\n    )\n}\n","import React, {useState, useEffect} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Avatar from '@material-ui/core/Avatar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport ArrowForward from '@material-ui/icons/ArrowForward'\nimport Person from '@material-ui/icons/Person'\nimport {Link} from 'react-router-dom'\nimport {list} from './api-user.js'\nimport {findPeople, follow} from './api-user.js'\nimport { apiUrl } from '../../config'\nimport TextField from '@material-ui/core/TextField'\nimport auth from './../auth/auth-helper'\n\nconst useStyles = makeStyles(theme => ({\n  root: theme.mixins.gutters({\n    padding: theme.spacing(1),\n    margin: theme.spacing(5)\n  }),\n  title: {\n    margin: `${theme.spacing(4)}px 0 ${theme.spacing(2)}px`,\n    color: theme.palette.openTitle\n  }\n}))\n\nexport default function Users() { \n  const classes = useStyles()\n  const [users, setUsers] = useState([])\n  const [search, setSearch] = useState(\"\")\n\n  useEffect(() => {\n    const abortController = new AbortController()\n    const signal = abortController.signal\n\n    list(signal).then((data) => {\n      if (data && data.error) {\n        console.log(data.error)\n      } else {\n        let allUsers = data.filter(item => item._id != auth.isAuthenticated().user._id)\n        setUsers(allUsers)\n      }\n    })\n\n    return function cleanup(){\n      abortController.abort()\n    }\n  }, [])\n\n    return (\n      <Paper className={classes.root} elevation={4}>\n        <Typography variant=\"h6\" className={classes.title}>\n          All Users \n        </Typography>\n        <TextField \n          placeholder=\"Search for user name\" \n          onChange={event => setSearch(event.target.value)}\n        />\n        <List dense>\n         {users.filter(item => item.name.indexOf(search) != -1).map((item, i) => {\n          return <Link to={\"/user/\" + item._id} key={i}>\n                    <ListItem button>\n                      <ListItemAvatar>\n                        <Avatar src={`${apiUrl}/api/users/photo/${item._id}`}>\n                          <Person/>\n                        </Avatar>\n                      </ListItemAvatar>\n                      <ListItemText primary={item.name}/>\n                      <ListItemSecondaryAction>\n                      <IconButton>\n                          <ArrowForward/>\n                      </IconButton>\n                      </ListItemSecondaryAction>\n                    </ListItem>\n                 </Link>\n               })\n             }\n        </List>\n      </Paper>\n    )\n}\n","import React, {useState} from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport {create} from './api-user.js'\nimport {Link} from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing(5),\n    paddingBottom: theme.spacing(2)\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing(2)\n  }\n}))\n\nexport default function Signup (){\n  const classes = useStyles()\n  const [values, setValues] = useState({\n    name: '',\n    password: '',\n    email: '',\n    open: false,\n    error: ''\n  })\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value })\n  }\n\n  const clickSubmit = () => {\n    const user = {\n      name: values.name || undefined,\n      email: values.email || undefined,\n      password: values.password || undefined\n    }\n    create(user).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error})\n      } else {\n        setValues({ ...values, error: '', open: true})\n      }\n    })\n  }\n\n    return (<div>\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h6\" className={classes.title}>\n            Sign Up\n          </Typography>\n          <TextField id=\"name\" label=\"Name\" className={classes.textField} value={values.name} onChange={handleChange('name')} margin=\"normal\"/><br/>\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/><br/>\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\n          <br/> {\n            values.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error</Icon>\n              {values.error}</Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"contained\" onClick={clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n      <Dialog open={values.open} disableBackdropClick={true}>\n        <DialogTitle>New Account</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            New account successfully created.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Link to=\"/signin\">\n            <Button color=\"primary\" autoFocus=\"autoFocus\" variant=\"contained\">\n              Sign In\n            </Button>\n          </Link>\n        </DialogActions>\n      </Dialog>\n    </div>)\n}","import React, {useState} from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport { makeStyles } from '@material-ui/core/styles'\nimport auth from './auth-helper'\nimport {Redirect} from 'react-router-dom'\nimport {signin} from './api-auth.js'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing(5),\n    paddingBottom: theme.spacing(2)\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  title: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.openTitle\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing(2)\n  }\n}))\n\nexport default function Signin(props) {\n  const classes = useStyles()\n  const [values, setValues] = useState({\n      email: '',\n      password: '',\n      error: '',\n      redirectToReferrer: false\n  })\n\n  const clickSubmit = () => {\n    const user = {\n      email: values.email || undefined,\n      password: values.password || undefined\n    }\n\n    signin(user).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error})\n      } else {\n        auth.authenticate(data, () => {\n          setValues({ ...values, error: '',redirectToReferrer: true})\n        })\n      }\n    })\n  }\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value })\n  }\n\n  const {from} = props.location.state || {\n      from: {\n        pathname: '/'\n      }\n  }\n  const {redirectToReferrer} = values\n    if (redirectToReferrer) {\n      return (<Redirect to={from}/>)\n  }\n\n  return (\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h6\" className={classes.title}>\n            Sign In\n          </Typography>\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/><br/>\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\n          <br/> {\n            values.error && (<Typography component=\"p\" color=\"error\">\n              {values.error}\n            </Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"contained\" onClick={clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n    )\n}\n","import React, {useEffect, useState} from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Icon from '@material-ui/core/Icon'\nimport Avatar from '@material-ui/core/Avatar'\nimport FileUpload from '@material-ui/icons/AddPhotoAlternate'\nimport { makeStyles } from '@material-ui/core/styles'\nimport auth from './../auth/auth-helper'\nimport {read, update} from './api-user.js'\nimport {Redirect} from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 600,\n    margin: 'auto',\n    textAlign: 'center',\n    marginTop: theme.spacing(5),\n    paddingBottom: theme.spacing(2)\n  },\n  title: {\n    margin: theme.spacing(2),\n    color: theme.palette.protectedTitle\n  },\n  error: {\n    verticalAlign: 'middle'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 300\n  },\n  submit: {\n    margin: 'auto',\n    marginBottom: theme.spacing(2)\n  },\n  bigAvatar: {\n    width: 60,\n    height: 60,\n    margin: 'auto'\n  },\n  input: {\n    display: 'none'\n  },\n  filename:{\n    marginLeft:'10px'\n  }\n}))\n\nexport default function EditProfile({ match }) {\n  const classes = useStyles()\n  const [values, setValues] = useState({\n    name: '',\n    about: '',\n    photo: '',\n    email: '',\n    password: '',\n    redirectToProfile: false,\n    error: '',\n    id: ''\n  })\n  const jwt = auth.isAuthenticated()\n\n  useEffect(() => {\n    const abortController = new AbortController()\n    const signal = abortController.signal\n\n    read({\n      userId: match.params.userId\n    }, {t: jwt.token}, signal).then((data) => {\n      if (data & data.error) {\n        setValues({...values, error: data.error})\n      } else {\n        setValues({...values, id: data._id, name: data.name, email: data.email, about: data.about})\n      }\n    })\n    return function cleanup(){\n      abortController.abort()\n    }\n\n  }, [match.params.userId])\n  \n  const clickSubmit = () => {\n    let userData = new FormData()\n    values.name && userData.append('name', values.name)\n    values.email && userData.append('email', values.email)\n    values.passoword && userData.append('passoword', values.passoword)\n    values.about && userData.append('about', values.about)\n    values.photo && userData.append('photo', values.photo)\n    update({\n      userId: match.params.userId\n    }, {\n      t: jwt.token\n    }, userData).then((data) => {\n      if (data && data.error) {\n        setValues({...values, error: data.error})\n      } else {\n        setValues({...values, 'redirectToProfile': true})\n      }\n    })\n  }\n  const handleChange = name => event => {\n    const value = name === 'photo'\n      ? event.target.files[0]\n      : event.target.value\n    //userData.set(name, value)\n    setValues({...values, [name]: value })\n  }\n    const photoUrl = values.id\n                 ? `/api/users/photo/${values.id}?${new Date().getTime()}`\n                 : '/api/users/defaultphoto'\n    if (values.redirectToProfile) {\n      return (<Redirect to={'/user/' + values.id}/>)\n    }\n    return (\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography variant=\"h6\" className={classes.title}>\n            Edit Profile\n          </Typography>\n          <Avatar src={photoUrl} className={classes.bigAvatar}/><br/>\n          <input accept=\"image/*\" onChange={handleChange('photo')} className={classes.input} id=\"icon-button-file\" type=\"file\" />\n          <label htmlFor=\"icon-button-file\">\n            <Button variant=\"contained\" color=\"default\" component=\"span\">\n              Upload\n              <FileUpload/>\n            </Button>\n          </label> <span className={classes.filename}>{values.photo ? values.photo.name : ''}</span><br/>\n          <TextField id=\"name\" label=\"Name\" className={classes.textField} value={values.name} onChange={handleChange('name')} margin=\"normal\"/><br/>\n          <TextField\n            id=\"multiline-flexible\"\n            label=\"About\"\n            multiline\n            rows=\"2\"\n            value={values.about}\n            onChange={handleChange('about')}\n            className={classes.textField}\n            margin=\"normal\"\n          /><br/>\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/><br/>\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\n          <br/> {\n            values.error && (<Typography component=\"p\" color=\"error\">\n              <Icon color=\"error\" className={classes.error}>error</Icon>\n              {values.error}\n            </Typography>)\n          }\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" variant=\"contained\" onClick={clickSubmit} className={classes.submit}>Submit</Button>\n        </CardActions>\n      </Card>\n    )\n}\n","import React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport auth from './../auth/auth-helper'\nimport {remove} from './api-user.js'\nimport {Redirect, Link} from 'react-router-dom'\n\nexport default function DeleteUser(props) {\n  const [open, setOpen] = useState(false)\n  const [redirect, setRedirect] = useState(false)\n  \n  const jwt = auth.isAuthenticated()\n  const clickButton = () => {\n    setOpen(true)\n  }\n  const deleteAccount = () => { \n    remove({\n      userId: props.userId\n    }, {t: jwt.token}).then((data) => {\n      if (data && data.error) {\n        console.log(data.error)\n      } else {\n        auth.clearJWT(() => console.log('deleted'))\n        setRedirect(true)\n      }\n    })\n  }\n  const handleRequestClose = () => {\n    setOpen(false)\n  }\n\n    if (redirect) {\n      return <Redirect to='/'/>\n    }\n    return (<span>\n      <IconButton aria-label=\"Delete\" onClick={clickButton} color=\"secondary\">\n        <DeleteIcon/>\n      </IconButton>\n\n      <Dialog open={open} onClose={handleRequestClose}>\n        <DialogTitle>{\"Delete Account\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Confirm to delete your account.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleRequestClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={deleteAccount} color=\"secondary\" autoFocus=\"autoFocus\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </span>)\n}\nDeleteUser.propTypes = {\n  userId: PropTypes.string.isRequired\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport {unfollow, follow} from './api-user.js'\n\nexport default function FollowProfileButton (props) {\n  const followClick = () => {\n    props.onButtonClick(follow)\n  }\n  const unfollowClick = () => {\n    props.onButtonClick(unfollow)\n  }\n    return (<div>\n      { props.following\n        ? (<Button variant=\"contained\" color=\"secondary\" onClick={unfollowClick}>Unfollow</Button>)\n        : (<Button variant=\"contained\" color=\"primary\" onClick={followClick}>Follow</Button>)\n      }\n    </div>)\n}\nFollowProfileButton.propTypes = {\n  following: PropTypes.bool.isRequired,\n  onButtonClick: PropTypes.func.isRequired\n}\n","import React from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport {Link} from 'react-router-dom'\nimport GridList from '@material-ui/core/GridList'\nimport GridListTile from '@material-ui/core/GridListTile'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingTop: theme.spacing(2),\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    background: theme.palette.background.paper,\n  },\n  bigAvatar: {\n    width: 60,\n    height: 60,\n    margin: 'auto'\n  },\n  gridList: {\n    width: 500,\n    height: 220,\n  },\n  tileText: {\n    textAlign: 'center',\n    marginTop: 10\n  }\n}))\nexport default function FollowGrid (props) {\n  const classes = useStyles()\n    return (<div className={classes.root}>\n      <GridList cellHeight={160} className={classes.gridList} cols={4}>\n        {props.people.map((person, i) => {\n           return  <GridListTile style={{'height':120}} key={i}>\n              <Link to={\"/user/\" + person._id}>\n                <Avatar src={'/api/users/photo/'+person._id} className={classes.bigAvatar}/>\n                <Typography className={classes.tileText}>{person.name}</Typography>\n              </Link>\n            </GridListTile>\n        })}\n      </GridList>\n    </div>)\n}\n\nFollowGrid.propTypes = {\n  people: PropTypes.array.isRequired\n}\n\n","import React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport AppBar from '@material-ui/core/AppBar'\nimport Typography from '@material-ui/core/Typography'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport FollowGrid from './../user/FollowGrid'\nimport PostList from './../post/PostList'\n\nexport default function ProfileTabs ( props ){\n  const [tab, setTab] = useState(0)\n\n  const handleTabChange = (event, value) => {\n    setTab(value)\n  }\n\n    return (\n    <div>\n        <AppBar position=\"static\" color=\"default\">\n          <Tabs\n            value={tab}\n            onChange={handleTabChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            variant=\"fullWidth\"\n          >\n            <Tab label=\"Posts\" />\n            <Tab label=\"Following\" />\n            <Tab label=\"Followers\" />\n          </Tabs>\n        </AppBar>\n       {tab === 0 && <TabContainer><PostList removeUpdate={props.removePostUpdate} posts={props.posts}/></TabContainer>}\n       {tab === 1 && <TabContainer><FollowGrid people={props.user.following}/></TabContainer>}\n       {tab === 2 && <TabContainer><FollowGrid people={props.user.followers}/></TabContainer>}\n    </div>)\n  \n}\n\nProfileTabs.propTypes = {\n  user: PropTypes.object.isRequired,\n  removePostUpdate: PropTypes.func.isRequired,\n  posts: PropTypes.array.isRequired\n}\n\nconst TabContainer = (props) => {\n  return (\n    <Typography component=\"div\" style={{ padding: 8 * 2 }}>\n      {props.children}\n    </Typography>\n  )\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired\n}\n","import React, { useState, useEffect } from 'react'\nimport {makeStyles} from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction' \nimport ListItemText from '@material-ui/core/ListItemText' \nimport Avatar from '@material-ui/core/Avatar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport Edit from '@material-ui/icons/Edit'\nimport Divider from '@material-ui/core/Divider'\nimport DeleteUser from './DeleteUser'\nimport auth from './../auth/auth-helper'\nimport {read} from './api-user.js'\nimport {Redirect, Link} from 'react-router-dom'\nimport FollowProfileButton from './../user/FollowProfileButton'\nimport ProfileTabs from './../user/ProfileTabs'\nimport {listByUser} from './../post/api-post.js'\nimport { apiUrl } from '../../config'\n\nconst useStyles = makeStyles(theme => ({\n  root: theme.mixins.gutters({\n    maxWidth: 600,\n    margin: 'auto',\n    padding: theme.spacing(3),\n    marginTop: theme.spacing(5)\n  }),\n  title: {\n    margin: `${theme.spacing(2)}px ${theme.spacing(1)}px 0`,\n    color: theme.palette.protectedTitle,\n    fontSize: '1em'\n  },\n  bigAvatar: {\n    width: 60,\n    height: 60,\n    margin: 10\n  }\n}))\n\nexport default function Profile({ match }) {\n  const classes = useStyles()\n  const [values, setValues] = useState({\n    user: {following:[], followers:[]},\n    redirectToSignin: false,\n    following: false\n  })\n  const [posts, setPosts] = useState([])\n  const jwt = auth.isAuthenticated()\n\n  useEffect(() => {\n    const abortController = new AbortController()\n    const signal = abortController.signal\n  \n    read({\n      userId: match.params.userId\n    }, {t: jwt.token}, signal).then((data) => {\n      if (data && data.error) {\n        setValues({...values, redirectToSignin: true})\n      } else {\n        let following = checkFollow(data)\n        setValues({...values, user: data, following: following})\n        loadPosts(data._id)\n      }\n    })\n    return function cleanup(){\n      abortController.abort()\n    }\n\n  }, [match.params.userId])\n  \n  const checkFollow = (user) => {\n    const match = user.followers.some((follower)=> {\n      return follower._id == jwt.user._id\n    })\n    return match\n  }\n  const clickFollowButton = (callApi) => {\n    callApi({\n      userId: jwt.user._id\n    }, {\n      t: jwt.token\n    }, values.user._id).then((data) => {\n      if (data.error) {\n        setValues({...values, error: data.error})\n      } else {\n        setValues({...values, user: data, following: !values.following})\n      }\n    })\n  }\n  const loadPosts = (user) => {\n    listByUser({\n      userId: user\n    }, {\n      t: jwt.token\n    }).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        setPosts(data)\n      }\n    })\n  }\n  const removePost = (post) => {\n    console.log('post ' + JSON.stringify(post))\n    const updatedPosts = posts.filter(item => item._id != post._id)\n    setPosts(updatedPosts)\n  }\n\n    const photoUrl = values.user._id\n              ? `${apiUrl}/api/users/photo/${values.user._id}?${new Date().getTime()}`\n              : apiUrl+'/api/users/defaultphoto'\n    if (values.redirectToSignin) {\n      return <Redirect to='/signin'/>\n    }\n    return (\n      <Paper className={classes.root} elevation={4}>\n        <Typography variant=\"h6\" className={classes.title}>\n          Profile\n        </Typography>\n        <List dense>\n          <ListItem>\n            <ListItemAvatar>\n              <Avatar src={photoUrl} className={classes.bigAvatar}/>\n            </ListItemAvatar>\n            <ListItemText primary={values.user.name} secondary={values.user.email}/> {\n             auth.isAuthenticated().user && auth.isAuthenticated().user._id == values.user._id\n             ? (<ListItemSecondaryAction>\n                  <Link to={\"/user/edit/\" + values.user._id}>\n                    <IconButton aria-label=\"Edit\" color=\"primary\">\n                      <Edit/>\n                    </IconButton>\n                  </Link>\n                  <DeleteUser userId={values.user._id}/>\n                </ListItemSecondaryAction>)\n            : (<FollowProfileButton following={values.following} onButtonClick={clickFollowButton}/>)\n            }\n          </ListItem>\n          <Divider/>\n          <ListItem>\n            <ListItemText primary={values.user.about} secondary={\"Joined: \" + (\n              new Date(values.user.created)).toDateString()}/>\n          </ListItem>\n        </List>\n        <ProfileTabs user={values.user} posts={posts} removePostUpdate={removePost}/>\n      </Paper>\n    )\n}\n\n\n","import React, { Component } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport auth from './auth-helper'\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest} render={props => (\n    auth.isAuthenticated() ? (\n      <Component {...props}/>\n    ) : (\n      <Redirect to={{\n        pathname: '/signin',\n        state: { from: props.location }\n      }}/>\n    )\n  )}/>\n)\n\nexport default PrivateRoute\n","import React from 'react'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport HomeIcon from '@material-ui/icons/Home'\nimport Button from '@material-ui/core/Button'\nimport auth from './../auth/auth-helper'\nimport {Link, withRouter} from 'react-router-dom'\n\nconst isActive = (history, path) => {\n  if (history.location.pathname == path)\n    return {color: '#ffa726'}\n  else\n    return {color: '#ffffff'}\n}\nconst Menu = withRouter(({history}) => (\n  <AppBar position=\"static\">\n    <Toolbar>\n      <Typography variant=\"h6\" color=\"inherit\">\n        Social Media\n      </Typography>\n      <Link to=\"/\">\n        <IconButton aria-label=\"Home\" style={isActive(history, \"/\")}>\n          <HomeIcon/>\n        </IconButton>\n      </Link>\n      {\n        !auth.isAuthenticated() && (<span>\n          <Link to=\"/signup\">\n            <Button style={isActive(history, \"/signup\")}>Sign up\n            </Button>\n          </Link>\n          <Link to=\"/signin\">\n            <Button style={isActive(history, \"/signin\")}>Sign In\n            </Button>\n          </Link>\n        </span>)\n      }\n      {\n        auth.isAuthenticated() && (<span>\n          <Link to=\"/users\">\n            <Button style={isActive(history, \"/users\")}>All Users</Button>\n          </Link>\n          <Link to={\"/user/\" + auth.isAuthenticated().user._id}>\n            <Button style={isActive(history, \"/user/\" + auth.isAuthenticated().user._id)}>My Profile</Button>\n          </Link>\n          <Button color=\"inherit\" onClick={() => {\n              auth.clearJWT(() => history.push('/'))\n            }}>Sign out</Button>\n        </span>)\n      }\n    </Toolbar>\n  </AppBar>\n))\n\nexport default Menu\n","import React, {Component} from 'react'\nimport {Route, Switch} from 'react-router-dom'\nimport Home from './components/core/Home'\nimport Users from './components/user/Users'\nimport Signup from './components/user/Signup'\nimport Signin from './components/auth/Signin'\nimport EditProfile from './components/user/EditProfile'\nimport Profile from './components/user/Profile'\nimport PrivateRoute from './components/auth/PrivateRoute'\nimport Menu from './components/core/Menu'\n\nconst MainRouter = () => {\n    return (<div>\n      <Menu/>\n      <Switch>\n        <Route exact path=\"/\" component={Home}/>\n        <Route path=\"/users\" component={Users}/>\n        <Route path=\"/signup\" component={Signup}/>\n        <Route path=\"/signin\" component={Signin}/>\n        <PrivateRoute path=\"/user/edit/:userId\" component={EditProfile}/>\n        <Route path=\"/user/:userId\" component={Profile}/>\n      </Switch>\n    </div>)\n}\n\nexport default MainRouter\n","import { createMuiTheme } from '@material-ui/core/styles'\nimport { teal, orange } from '@material-ui/core/colors'\n\nconst theme = createMuiTheme({\n    // palette: {\n    //   primary: {\n    //   light: '#52c7b8',\n    //   main: '#009688',\n    //   dark: '#00675b',\n    //   contrastText: '#fff',\n    // },\n    // secondary: {\n    //   light: '#ffd95b',\n    //   main: '#ffa726',\n    //   dark: '#c77800',\n    //   contrastText: '#000',\n    // },\n    //   openTitle: teal['700'],\n    //   protectedTitle: orange['700'],\n    //   type: 'light'\n    // }\n  })\n\n  export default theme  ","import React from 'react'\nimport MainRouter from './MainRouter'\nimport {BrowserRouter} from 'react-router-dom'\nimport theme from './theme'\nimport { ThemeProvider } from '@material-ui/styles'\nimport './App.css';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n        <ThemeProvider theme={theme}>\n          <MainRouter/>\n        </ThemeProvider>\n    </BrowserRouter>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}