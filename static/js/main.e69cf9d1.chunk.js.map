{"version":3,"sources":["config.js","components/auth/api-auth.js","components/auth/auth-helper.js","components/user/api-user.js","components/user/FindPeople.js","components/post/api-post.js","components/post/Comments.js","components/post/Post.js","components/post/PostList.js","components/post/NewPost.js","components/post/Newsfeed.js","components/core/Home.js","components/user/Users.js","components/user/Signup.js","components/auth/Signin.js","components/user/EditProfile.js","components/user/DeleteUser.js","components/user/FollowProfileButton.js","components/user/FollowGrid.js","components/user/ProfileTabs.js","components/user/Profile.js","components/auth/PrivateRoute.js","components/core/Menu.js","MainRouter.js","theme.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","apiUrl","signin","user","a","fetch","config","method","headers","body","JSON","stringify","response","json","console","log","signout","auth","isAuthenticated","window","sessionStorage","getItem","parse","authenticate","jwt","cb","setItem","clearJWT","removeItem","then","data","document","cookie","create","list","signal","read","params","credentials","userId","t","update","remove","follow","followId","unfollow","unfollowId","findPeople","useStyles","makeStyles","theme","root","mixins","gutters","padding","spacing","margin","title","color","palette","openTitle","fontSize","avatar","marginRight","right","snack","protectedTitle","viewButton","verticalAlign","FindPeople","classes","useState","users","open","followMessage","values","setValues","search","setSearch","useEffect","abortController","AbortController","_id","token","error","abort","Paper","className","elevation","Typography","type","TextField","placeholder","onChange","event","target","value","List","filter","item","name","indexOf","map","i","ListItem","ListItemAvatar","Avatar","src","ListItemText","primary","ListItemSecondaryAction","to","IconButton","variant","Button","aria-label","onClick","index","toFollow","splice","Snackbar","anchorOrigin","vertical","horizontal","onClose","reason","autoHideDuration","message","post","listByUser","listNewsFeed","postId","like","unlike","comment","uncomment","cardHeader","paddingTop","paddingBottom","smallAvatar","width","height","commentField","commentText","backgroundColor","commentDate","display","commentDelete","cursor","Comments","props","text","setText","commentBody","postedBy","Date","created","toDateString","Icon","updateComments","comments","CardHeader","onKeyDown","keyCode","preventDefault","multiline","card","maxWidth","marginBottom","cardContent","photo","textAlign","media","button","Post","checkLike","likes","length","clickLike","Card","action","onRemove","subheader","CardContent","component","CardActions","Divider","PostList","style","marginTop","posts","removeUpdate","boxShadow","photoButton","input","textField","marginLeft","submit","filename","NewPost","handleChange","files","photoURL","rows","accept","id","htmlFor","disabled","postData","FormData","append","addUpdate","minHeight","Newsfeed","setPosts","updatedPosts","unshift","flexGrow","secondary","credit","borderBottom","Home","history","defaultPage","setDefaultPage","unlisten","listen","Grid","container","xs","sm","Users","setUsers","allUsers","dense","Signup","password","email","label","undefined","Dialog","disableBackdropClick","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Signin","redirectToReferrer","from","location","state","pathname","bigAvatar","EditProfile","match","about","redirectToProfile","photoUrl","getTime","userData","passoword","DeleteUser","setOpen","redirect","setRedirect","handleRequestClose","FollowProfileButton","following","onButtonClick","flexWrap","justifyContent","overflow","background","paper","gridList","tileText","FollowGrid","GridList","cellHeight","cols","people","person","GridListTile","ProfileTabs","tab","setTab","AppBar","position","Tabs","indicatorColor","textColor","Tab","removePostUpdate","followers","TabContainer","children","Profile","redirectToSignin","checkFollow","loadPosts","some","follower","callApi","PrivateRoute","Component","rest","render","isActive","path","Menu","withRouter","Toolbar","push","MainRouter","exact","createMuiTheme","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e69cf9d1.chunk.js","sourcesContent":["const config = {\r\n  apiUrl: \"https://rv-social-media.herokuapp.com\" \r\n}\r\n\r\nmodule.exports = config\r\n","import config from '../../config'\r\n\r\nconst signin = async (user) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/auth/signin/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst signout = async () => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/auth/signout/', { method: 'GET' })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  signin,\r\n  signout\r\n}\r\n","import { signout } from './api-auth.js'\r\n\r\nconst auth = {\r\n  isAuthenticated() {\r\n    if (typeof window == \"undefined\")\r\n      return false\r\n\r\n    if (sessionStorage.getItem('jwt'))\r\n      return JSON.parse(sessionStorage.getItem('jwt'))\r\n    else\r\n      return false\r\n  },\r\n  authenticate(jwt, cb) {\r\n    if (typeof window !== \"undefined\")\r\n      sessionStorage.setItem('jwt', JSON.stringify(jwt))\r\n    cb()\r\n  },\r\n  clearJWT(cb) {\r\n    if (typeof window !== \"undefined\")\r\n      sessionStorage.removeItem('jwt')\r\n    cb()\r\n    //optional\r\n    signout().then((data) => {\r\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\"\r\n    })\r\n  }\r\n}\r\n\r\nexport default auth\r\n","import config from '../../config'\r\n\r\nconst create = async (user) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst list = async (signal) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/', {\r\n      method: 'GET',\r\n      signal: signal\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst read = async (params, credentials, signal) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/' + params.userId, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n  })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst update = async (params, credentials, user) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/' + params.userId, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: user\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst remove = async (params, credentials) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/' + params.userId, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst follow = async (params, credentials, followId) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/follow/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify({userId:params.userId, followId: followId})\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst unfollow = async (params, credentials, unfollowId) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/unfollow/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify({userId:params.userId, unfollowId: unfollowId})\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst findPeople = async (params, credentials, signal) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/users/findpeople/' + params.userId, {\r\n      method: 'GET',\r\n      signal: signal,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })    \r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport {\r\n  create,\r\n  list,\r\n  read,\r\n  update,\r\n  remove,\r\n  follow,\r\n  unfollow,\r\n  findPeople\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction' \r\nimport ListItemText from '@material-ui/core/ListItemText' \r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {Link} from 'react-router-dom'\r\nimport {findPeople, follow} from './api-user.js'\r\nimport auth from './../auth/auth-helper'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport ViewIcon from '@material-ui/icons/Visibility'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { apiUrl } from '../../config'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: theme.mixins.gutters({\r\n    padding: theme.spacing(1),\r\n    margin: 0\r\n  }),\r\n  title: {\r\n    margin: `${theme.spacing(3)}px ${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n    color: theme.palette.openTitle,\r\n    fontSize: '1em'\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  follow: {\r\n    right: theme.spacing(2)\r\n  },\r\n  snack: {\r\n    color: theme.palette.protectedTitle\r\n  },\r\n  viewButton: {\r\n    verticalAlign: 'middle'\r\n  }\r\n}))\r\n\r\nexport default function FindPeople() {\r\n  const classes = useStyles()\r\n  const [values, setValues] = useState({\r\n    users: [],\r\n    open: false,\r\n    followMessage: ''\r\n  })\r\n  const [search, setSearch] = useState(\"\")\r\n  const jwt = auth.isAuthenticated()\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController()\r\n    const signal = abortController.signal\r\n\r\n    findPeople({\r\n      userId: jwt.user._id\r\n    }, {\r\n      t: jwt.token\r\n    }, signal).then((data) => {\r\n      if (data && data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setValues({...values, users:data})\r\n      }\r\n    })\r\n    return function cleanup(){\r\n      abortController.abort()\r\n    }\r\n\r\n  }, [])\r\n  const clickFollow = (user, index) => {\r\n    follow({\r\n      userId: jwt.user._id\r\n    }, {\r\n      t: jwt.token\r\n    }, user._id).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        let toFollow = values.users\r\n        toFollow.splice(index, 1)\r\n        setValues({...values, users: toFollow, open: true, followMessage: `Following ${user.name}!`})\r\n      }\r\n    })\r\n  }\r\n  const handleRequestClose = (event, reason) => {\r\n    setValues({...values, open: false })\r\n  }\r\n    return (<div>\r\n      <Paper className={classes.root} elevation={4}>\r\n        <Typography type=\"title\" className={classes.title}>\r\n          Whan to follow\r\n        </Typography>\r\n        <TextField \r\n          placeholder=\"User name\" \r\n          onChange={event => setSearch(event.target.value)}\r\n        />\r\n        <List>\r\n          {values.users.filter(item => item.name.indexOf(search) != -1).map((item, i) => {\r\n              return <span key={i}>\r\n                <ListItem>\r\n                  <ListItemAvatar className={classes.avatar}>\r\n                      <Avatar src={apiUrl+'/api/users/photo/'+item._id}/>\r\n                  </ListItemAvatar>\r\n                  <ListItemText primary={item.name}/>\r\n                  <ListItemSecondaryAction className={classes.follow}>\r\n                    <Link to={\"/user/\" + item._id}>\r\n                      <IconButton variant=\"contained\" color=\"secondary\" className={classes.viewButton}>\r\n                        <ViewIcon/>\r\n                      </IconButton>\r\n                    </Link>\r\n                    <Button aria-label=\"Follow\" variant=\"contained\" color=\"primary\" onClick={()=> {clickFollow(item, i)}}>\r\n                      Follow\r\n                    </Button>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n              </span>\r\n            })\r\n          }\r\n        </List>\r\n      </Paper>\r\n      <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n          }}\r\n          open={values.open}\r\n          onClose={handleRequestClose}\r\n          autoHideDuration={6000}\r\n          message={<span className={classes.snack}>{values.followMessage}</span>}\r\n      />\r\n    </div>)\r\n}\r\n","import config from '../../config'\r\n\r\nconst create = async (params, credentials, post) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/new/'+ params.userId, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: post\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst listByUser = async (params, credentials) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/by/'+ params.userId, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst listNewsFeed = async (params, credentials, signal) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/feed/'+ params.userId, {\r\n      method: 'GET',\r\n      signal: signal,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })    \r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst remove = async (params, credentials) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/' + params.postId, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      }\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\n\r\nconst like = async (params, credentials, postId) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/like/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify({userId:params.userId, postId: postId})\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\n\r\nconst unlike = async (params, credentials, postId) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/unlike/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify({userId:params.userId, postId: postId})\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\n\r\nconst comment = async (params, credentials, postId, comment) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/comment/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify({userId:params.userId, postId: postId, comment: comment})\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\n\r\nconst uncomment = async (params, credentials, postId, comment) => {\r\n  try {\r\n    let response = await fetch(config.apiUrl+'/api/posts/uncomment/', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + credentials.t\r\n      },\r\n      body: JSON.stringify({userId:params.userId, postId: postId, comment: comment})\r\n    })\r\n    return await response.json()\r\n  } catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\n\r\nexport {\r\n  listNewsFeed,\r\n  listByUser,\r\n  create,\r\n  remove,\r\n  like,\r\n  unlike,\r\n  comment,\r\n  uncomment\r\n}\r\n","import React, {useState} from 'react'\r\nimport auth from './../auth/auth-helper'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport PropTypes from 'prop-types'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {comment, uncomment} from './api-post.js'\r\nimport {Link} from 'react-router-dom'\r\nimport { apiUrl } from '../../config'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  cardHeader: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1)\r\n  },\r\n  smallAvatar: {\r\n    width: 25,\r\n    height: 25\r\n  },\r\n  commentField: {\r\n    width: '96%'\r\n  },\r\n  commentText: {\r\n    backgroundColor: 'white',\r\n    padding: theme.spacing(1),\r\n    margin: `2px ${theme.spacing(2)}px 2px 2px`\r\n  },\r\n  commentDate: {\r\n    display: 'block',\r\n    color: 'gray',\r\n    fontSize: '0.8em'\r\n },\r\n commentDelete: {\r\n   fontSize: '1.6em',\r\n   verticalAlign: 'middle',\r\n   cursor: 'pointer'\r\n }\r\n}))\r\n\r\nexport default function Comments (props) {\r\n  const classes = useStyles()\r\n  const [text, setText] = useState('')\r\n  const jwt = auth.isAuthenticated()\r\n  const handleChange = event => {\r\n    setText(event.target.value)\r\n  }\r\n  const addComment = (event) => {\r\n    if(event.keyCode == 13 && event.target.value){\r\n      event.preventDefault()\r\n      comment({\r\n        userId: jwt.user._id\r\n      }, {\r\n        t: jwt.token\r\n      }, props.postId, {text: text}).then((data) => {\r\n        if (data.error) {\r\n          console.log(data.error)\r\n        } else {\r\n          setText('')\r\n          props.updateComments(data.comments)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const deleteComment = comment => event => {\r\n    uncomment({\r\n      userId: jwt.user._id\r\n    }, {\r\n      t: jwt.token\r\n    }, props.postId, comment).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        props.updateComments(data.comments)\r\n      }\r\n    })\r\n  }\r\n\r\n    const commentBody = item => {\r\n      return (\r\n        <p className={classes.commentText}>\r\n          <Link to={\"/user/\" + item.postedBy._id}>{item.postedBy.name}</Link><br/>\r\n          {item.text}\r\n          <span className={classes.commentDate}>\r\n            {(new Date(item.created)).toDateString()} |\r\n            {auth.isAuthenticated().user._id === item.postedBy._id &&\r\n              <Icon onClick={deleteComment(item)} className={classes.commentDelete}>delete</Icon> }\r\n          </span>\r\n        </p>\r\n      )\r\n    }\r\n\r\n    return (<div>\r\n        <CardHeader\r\n              avatar={\r\n                <Avatar className={classes.smallAvatar} src={apiUrl+'/api/users/photo/'+auth.isAuthenticated().user._id}/>\r\n              }\r\n              title={ <TextField\r\n                onKeyDown={addComment}\r\n                multiline\r\n                value={text}\r\n                onChange={handleChange}\r\n                placeholder=\"Write something ...\"\r\n                className={classes.commentField}\r\n                margin=\"normal\"\r\n                />}\r\n              className={classes.cardHeader}\r\n        />\r\n        { props.comments.map((item, i) => {\r\n            return <CardHeader\r\n                      avatar={\r\n                        <Avatar className={classes.smallAvatar} src={apiUrl+'/api/users/photo/'+item.postedBy._id}/>\r\n                      }\r\n                      title={commentBody(item)}\r\n                      className={classes.cardHeader}\r\n                      key={i}/>\r\n              })\r\n        }\r\n    </div>)\r\n}\r\n\r\nComments.propTypes = {\r\n  postId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  updateComments: PropTypes.func.isRequired\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport auth from './../auth/auth-helper'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport FavoriteIcon from '@material-ui/icons/Favorite'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\r\nimport CommentIcon from '@material-ui/icons/Comment'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport PropTypes from 'prop-types'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {Link} from 'react-router-dom'\r\nimport {remove, like, unlike} from './api-post.js'\r\nimport Comments from './Comments'\r\nimport { apiUrl } from '../../config'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth:600,\r\n    margin: 'auto',\r\n    marginBottom: theme.spacing(3),\r\n    backgroundColor: 'rgba(0, 0, 0, 0.06)'\r\n  },\r\n  cardContent: {\r\n    backgroundColor: 'white',\r\n    padding: `${theme.spacing(2)}px 0px`\r\n  },\r\n  cardHeader: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1)\r\n  },\r\n  text: {\r\n    margin: theme.spacing(2)\r\n  },\r\n  photo: {\r\n    textAlign: 'center',\r\n    backgroundColor: '#f2f5f4',\r\n    padding:theme.spacing(1)\r\n  },\r\n  media: {\r\n    height: 200\r\n  },\r\n  button: {\r\n   margin: theme.spacing(1),\r\n  }\r\n}))\r\n\r\nexport default function Post (props){\r\n  const classes = useStyles()\r\n  const jwt = auth.isAuthenticated()\r\n  const checkLike = (likes) => {\r\n    let match = likes.indexOf(jwt.user._id) !== -1\r\n    return match\r\n  }\r\n  const [values, setValues] = useState({\r\n    like: checkLike(props.post.likes),\r\n    likes: props.post.likes.length,\r\n    comments: props.post.comments\r\n  })\r\n  \r\n  useEffect(() => {\r\n    setValues({...values, like:checkLike(props.post.likes), likes: props.post.likes.length, comments: props.post.comments})\r\n  }, [])\r\n\r\n  \r\n\r\n  const clickLike = () => {\r\n    let callApi = values.like ? unlike : like\r\n    callApi({\r\n      userId: jwt.user._id\r\n    }, {\r\n      t: jwt.token\r\n    }, props.post._id).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setValues({...values, like: !values.like, likes: data.likes.length})\r\n      }\r\n    })\r\n  }\r\n\r\n  const updateComments = (comments) => {\r\n    setValues({...values, comments: comments})\r\n  }\r\n\r\n  const deletePost = () => {   \r\n    remove({\r\n      postId: props.post._id\r\n    }, {\r\n      t: jwt.token\r\n    }).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        props.onRemove(props.post)\r\n      }\r\n    })\r\n  }\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n            avatar={\r\n              <Avatar src={apiUrl+'/api/users/photo/'+props.post.postedBy._id}/>\r\n            }\r\n            action={props.post.postedBy._id === auth.isAuthenticated().user._id &&\r\n              <IconButton onClick={deletePost}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            }\r\n            title={<Link to={\"/user/\" + props.post.postedBy._id}>{props.post.postedBy.name}</Link>}\r\n            subheader={(new Date(props.post.created)).toDateString()}\r\n            className={classes.cardHeader}\r\n          />\r\n        <CardContent className={classes.cardContent}>\r\n          <Typography component=\"p\" className={classes.text}>\r\n            {props.post.text}\r\n          </Typography>\r\n          {props.post.photo &&\r\n            (<div className={classes.photo}>\r\n              <img\r\n                className={classes.media}\r\n                src={apiUrl+'/api/posts/photo/'+props.post._id}\r\n                />\r\n            </div>)}\r\n        </CardContent>\r\n        <CardActions>\r\n          { values.like\r\n            ? <IconButton onClick={clickLike} className={classes.button} aria-label=\"Like\" color=\"secondary\">\r\n                <FavoriteIcon />\r\n              </IconButton>\r\n            : <IconButton onClick={clickLike} className={classes.button} aria-label=\"Unlike\" color=\"secondary\">\r\n                <FavoriteBorderIcon />\r\n              </IconButton> } <span>{values.likes}</span>\r\n              <IconButton className={classes.button} aria-label=\"Comment\" color=\"secondary\">\r\n                <CommentIcon/>\r\n              </IconButton> <span>{values.comments.length}</span>\r\n        </CardActions>\r\n        <Divider/>\r\n        <Comments postId={props.post._id} comments={values.comments} updateComments={updateComments}/>\r\n      </Card>\r\n    )\r\n  \r\n}\r\n\r\nPost.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n  onRemove: PropTypes.func.isRequired\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Post from './Post'\r\n\r\nexport default function PostList (props) {\r\n    return (\r\n      <div style={{marginTop: '24px'}}>\r\n        {props.posts.map((item, i) => {\r\n            return <Post post={item} key={i} onRemove={props.removeUpdate}/>\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n}\r\nPostList.propTypes = {\r\n  posts: PropTypes.array.isRequired,\r\n  removeUpdate: PropTypes.func.isRequired\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport auth from './../auth/auth-helper'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport PropTypes from 'prop-types'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {create} from './api-post.js'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport { apiUrl } from '../../config'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: '#efefef',\r\n    padding: `${theme.spacing(3)}px 0px 1px`\r\n  },\r\n  card: {\r\n    maxWidth:600,\r\n    margin: 'auto',\r\n    marginBottom: theme.spacing(3),\r\n    backgroundColor: 'rgba(65, 150, 136, 0.09)',\r\n    boxShadow: 'none'\r\n  },\r\n  cardContent: {\r\n    backgroundColor: 'white',\r\n    paddingTop: 0,\r\n    paddingBottom: 0\r\n  },\r\n  cardHeader: {\r\n    paddingTop: 8,\r\n    paddingBottom: 8\r\n  },\r\n  photoButton: {\r\n    height: 30,\r\n    marginBottom: 5\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    width: '90%'\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(2)\r\n  },\r\n  filename:{\r\n    verticalAlign: 'super'\r\n  }\r\n}))\r\n\r\nexport default function NewPost (props){\r\n  const classes = useStyles()\r\n  const [values, setValues] = useState({\r\n    text: '',\r\n    photo: '',\r\n    error: '',\r\n    user: {}\r\n  })\r\n  const jwt = auth.isAuthenticated()\r\n  useEffect(() => {\r\n    setValues({...values, user: auth.isAuthenticated().user})\r\n  }, [])\r\n  const clickPost = () => {\r\n    let postData = new FormData()\r\n    postData.append('text', values.text)\r\n    postData.append('photo', values.photo)\r\n    create({\r\n      userId: jwt.user._id\r\n    }, {\r\n      t: jwt.token\r\n    }, postData).then((data) => {\r\n      if (data.error) {\r\n        setValues({...values, error: data.error})\r\n      } else {\r\n        setValues({...values, text:'', photo: ''})\r\n        props.addUpdate(data)\r\n      }\r\n    })\r\n  }\r\n  const handleChange = name => event => {\r\n    const value = name === 'photo'\r\n      ? event.target.files[0]\r\n      : event.target.value\r\n    setValues({...values, [name]: value })\r\n  }\r\n  const photoURL = values.user._id ?apiUrl+'/api/users/photo/'+ values.user._id : apiUrl+'/api/users/defaultphoto'\r\n    return (<div className={classes.root}>\r\n      <Card className={classes.card}>\r\n      <CardHeader\r\n            avatar={\r\n              <Avatar src={photoURL}/> \r\n            }\r\n            title={values.user.name}\r\n            className={classes.cardHeader}\r\n          />\r\n      <CardContent className={classes.cardContent}>\r\n        <TextField\r\n            placeholder=\"Share your thoughts ...\"\r\n            multiline\r\n            rows=\"3\"\r\n            value={values.text}\r\n            onChange={handleChange('text')}\r\n            className={classes.textField}\r\n            margin=\"normal\"\r\n        />\r\n        <input accept=\"image/*\" onChange={handleChange('photo')} className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n        <label htmlFor=\"icon-button-file\">\r\n          <IconButton color=\"secondary\" className={classes.photoButton} component=\"span\">\r\n            <PhotoCamera />\r\n          </IconButton>\r\n        </label> <span className={classes.filename}>{values.photo ? values.photo.name : ''}</span>\r\n        { values.error && (<Typography component=\"p\" color=\"error\">\r\n            <Icon color=\"error\" className={classes.error}>error</Icon>\r\n              {values.error}\r\n            </Typography>)\r\n        }\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button color=\"primary\" variant=\"contained\" disabled={values.text === ''} onClick={clickPost} className={classes.submit}>POST</Button>\r\n      </CardActions>\r\n    </Card>\r\n  </div>)\r\n\r\n}\r\n\r\nNewPost.propTypes = {\r\n  addUpdate: PropTypes.func.isRequired\r\n}\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport auth from './../auth/auth-helper'\r\nimport PostList from './PostList'\r\nimport {listNewsFeed} from './api-post.js'\r\nimport NewPost from './NewPost'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    margin: 'auto',\r\n    paddingTop: 0,\r\n    paddingBottom: theme.spacing(3)\r\n  },\r\n  title: {\r\n    padding:`${theme.spacing(3)}px ${theme.spacing(2.5)}px ${theme.spacing(2)}px`,\r\n    color: theme.palette.openTitle,\r\n    fontSize: '1em'\r\n  },\r\n  media: {\r\n    minHeight: 330\r\n  }\r\n}))\r\nexport default function Newsfeed () {\r\n  const classes = useStyles()\r\n  const [posts, setPosts] = useState([])\r\n  const jwt = auth.isAuthenticated()\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController()\r\n    const signal = abortController.signal\r\n\r\n    listNewsFeed({\r\n      userId: jwt.user._id\r\n    }, {\r\n      t: jwt.token\r\n    }, signal).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setPosts(data)\r\n      }\r\n    })\r\n    return function cleanup(){\r\n      abortController.abort()\r\n    }\r\n\r\n  }, [])\r\n\r\n  const addPost = (post) => {\r\n    const updatedPosts = [...posts]\r\n    updatedPosts.unshift(post)\r\n    setPosts(updatedPosts)\r\n  }\r\n  const removePost = (post) => {\r\n    const updatedPosts = [...posts]\r\n    const index = updatedPosts.indexOf(post)\r\n    updatedPosts.splice(index, 1)\r\n    setPosts(updatedPosts)\r\n  }\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <Typography type=\"title\" className={classes.title}>\r\n          Newsfeed\r\n        </Typography>\r\n        <Divider/>\r\n        <NewPost addUpdate={addPost}/>\r\n        <Divider/>\r\n        <PostList removeUpdate={removePost} posts={posts}/>\r\n      </Card>\r\n    )\r\n}\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport auth from './../auth/auth-helper'\r\nimport FindPeople from './../user/FindPeople'\r\nimport Newsfeed from './../post/Newsfeed'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: 30,\r\n  },\r\n  card: {\r\n    maxWidth: 600,\r\n    margin: 'auto',\r\n    marginTop: theme.spacing(5),\r\n    marginBottom: theme.spacing(5)\r\n  },\r\n  title: {\r\n    padding:`${theme.spacing(3)}px ${theme.spacing(2.5)}px ${theme.spacing(2)}px`,\r\n    color: theme.palette.text.secondary,\r\n    textAlign: 'center'\r\n  },\r\n  media: {\r\n    minHeight: 400\r\n  },\r\n  credit: {\r\n    padding: 10,\r\n    textAlign: 'right',\r\n    backgroundColor: '#ededed',\r\n    borderBottom: '1px solid #d0d0d0',\r\n    '& a':{\r\n      color: '#3f4771'\r\n    } \r\n  }\r\n}))\r\n\r\nexport default function Home({history}){\r\n  const classes = useStyles()\r\n  const [defaultPage, setDefaultPage] = useState(false)\r\n\r\n  useEffect(()=> {\r\n    setDefaultPage(auth.isAuthenticated())\r\n    const unlisten = history.listen (() => {\r\n      setDefaultPage(auth.isAuthenticated())\r\n    })\r\n    return () => {\r\n      unlisten()\r\n    }\r\n  }, [])\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        { !defaultPage &&\r\n          <Grid container spacing={8}>\r\n            <Grid item xs={12}>\r\n              <Card className={classes.card}>\r\n                <Typography variant=\"h6\" className={classes.title}>\r\n                  Welcome\r\n                </Typography>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n        }\r\n        {defaultPage &&\r\n          <Grid container spacing={8}>\r\n            <Grid item xs={8} sm={7}>\r\n              <Newsfeed/>\r\n            </Grid>\r\n            <Grid item xs={6} sm={5}>\r\n              <FindPeople/>\r\n            </Grid>\r\n          </Grid>\r\n        }\r\n      </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ArrowForward from '@material-ui/icons/ArrowForward'\r\nimport Person from '@material-ui/icons/Person'\r\nimport {Link} from 'react-router-dom'\r\nimport {list} from './api-user.js'\r\nimport {findPeople, follow} from './api-user.js'\r\nimport { apiUrl } from '../../config'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport auth from './../auth/auth-helper'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: theme.mixins.gutters({\r\n    padding: theme.spacing(1),\r\n    margin: theme.spacing(5)\r\n  }),\r\n  title: {\r\n    margin: `${theme.spacing(4)}px 0 ${theme.spacing(2)}px`,\r\n    color: theme.palette.openTitle\r\n  }\r\n}))\r\n\r\nexport default function Users() { \r\n  const classes = useStyles()\r\n  const [users, setUsers] = useState([])\r\n  const [search, setSearch] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController()\r\n    const signal = abortController.signal\r\n\r\n    list(signal).then((data) => {\r\n      if (data && data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        let allUsers = data.filter(item => item._id != auth.isAuthenticated().user._id)\r\n        setUsers(allUsers)\r\n      }\r\n    })\r\n\r\n    return function cleanup(){\r\n      abortController.abort()\r\n    }\r\n  }, [])\r\n\r\n    return (\r\n      <Paper className={classes.root} elevation={4}>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          All Users \r\n        </Typography>\r\n        <TextField \r\n          placeholder=\"Search for user name\" \r\n          onChange={event => setSearch(event.target.value)}\r\n        />\r\n        <List dense>\r\n         {users.filter(item => item.name.indexOf(search) != -1).map((item, i) => {\r\n          return <Link to={\"/user/\" + item._id} key={i}>\r\n                    <ListItem button>\r\n                      <ListItemAvatar>\r\n                        <Avatar src={`${apiUrl}/api/users/photo/${item._id}`}>\r\n                          <Person/>\r\n                        </Avatar>\r\n                      </ListItemAvatar>\r\n                      <ListItemText primary={item.name}/>\r\n                      <ListItemSecondaryAction>\r\n                      <IconButton>\r\n                          <ArrowForward/>\r\n                      </IconButton>\r\n                      </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                 </Link>\r\n               })\r\n             }\r\n        </List>\r\n      </Paper>\r\n    )\r\n}\r\n","import React, {useState} from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport {create} from './api-user.js'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth: 600,\r\n    margin: 'auto',\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(5),\r\n    paddingBottom: theme.spacing(2)\r\n  },\r\n  error: {\r\n    verticalAlign: 'middle'\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2),\r\n    color: theme.palette.openTitle\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 300\r\n  },\r\n  submit: {\r\n    margin: 'auto',\r\n    marginBottom: theme.spacing(2)\r\n  }\r\n}))\r\n\r\nexport default function Signup (){\r\n  const classes = useStyles()\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    password: '',\r\n    email: '',\r\n    open: false,\r\n    error: ''\r\n  })\r\n\r\n  const handleChange = name => event => {\r\n    setValues({ ...values, [name]: event.target.value })\r\n  }\r\n\r\n  const clickSubmit = () => {\r\n    const user = {\r\n      name: values.name || undefined,\r\n      email: values.email || undefined,\r\n      password: values.password || undefined\r\n    }\r\n    create(user).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error})\r\n      } else {\r\n        setValues({ ...values, error: '', open: true})\r\n      }\r\n    })\r\n  }\r\n\r\n    return (<div>\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Sign Up\r\n          </Typography>\r\n          <TextField id=\"name\" label=\"Name\" className={classes.textField} value={values.name} onChange={handleChange('name')} margin=\"normal\"/><br/>\r\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/><br/>\r\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\r\n          <br/> {\r\n            values.error && (<Typography component=\"p\" color=\"error\">\r\n              <Icon color=\"error\" className={classes.error}>error</Icon>\r\n              {values.error}</Typography>)\r\n          }\r\n        </CardContent>\r\n        <CardActions>\r\n          <Button color=\"primary\" variant=\"contained\" onClick={clickSubmit} className={classes.submit}>Submit</Button>\r\n        </CardActions>\r\n      </Card>\r\n      <Dialog open={values.open} disableBackdropClick={true}>\r\n        <DialogTitle>New Account</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            New account successfully created.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Link to=\"/signin\">\r\n            <Button color=\"primary\" autoFocus=\"autoFocus\" variant=\"contained\">\r\n              Sign In\r\n            </Button>\r\n          </Link>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>)\r\n}","import React, {useState} from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport auth from './auth-helper'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {signin} from './api-auth.js'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth: 600,\r\n    margin: 'auto',\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(5),\r\n    paddingBottom: theme.spacing(2)\r\n  },\r\n  error: {\r\n    verticalAlign: 'middle'\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2),\r\n    color: theme.palette.openTitle\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 300\r\n  },\r\n  submit: {\r\n    margin: 'auto',\r\n    marginBottom: theme.spacing(2)\r\n  }\r\n}))\r\n\r\nexport default function Signin(props) {\r\n  const classes = useStyles()\r\n  const [values, setValues] = useState({\r\n      email: '',\r\n      password: '',\r\n      error: '',\r\n      redirectToReferrer: false\r\n  })\r\n\r\n  const clickSubmit = () => {\r\n    const user = {\r\n      email: values.email || undefined,\r\n      password: values.password || undefined\r\n    }\r\n\r\n    signin(user).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error})\r\n      } else {\r\n        auth.authenticate(data, () => {\r\n          setValues({ ...values, error: '',redirectToReferrer: true})\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleChange = name => event => {\r\n    setValues({ ...values, [name]: event.target.value })\r\n  }\r\n\r\n  const {from} = props.location.state || {\r\n      from: {\r\n        pathname: '/'\r\n      }\r\n  }\r\n  const {redirectToReferrer} = values\r\n    if (redirectToReferrer) {\r\n      return (<Redirect to={from}/>)\r\n  }\r\n\r\n  return (\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Sign In\r\n          </Typography>\r\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/><br/>\r\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\r\n          <br/> {\r\n            values.error && (<Typography component=\"p\" color=\"error\">\r\n              {values.error}\r\n            </Typography>)\r\n          }\r\n        </CardContent>\r\n        <CardActions>\r\n          <Button color=\"primary\" variant=\"contained\" onClick={clickSubmit} className={classes.submit}>Submit</Button>\r\n        </CardActions>\r\n      </Card>\r\n    )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport FileUpload from '@material-ui/icons/AddPhotoAlternate'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport auth from './../auth/auth-helper'\r\nimport {read, update} from './api-user.js'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    maxWidth: 600,\r\n    margin: 'auto',\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(5),\r\n    paddingBottom: theme.spacing(2)\r\n  },\r\n  title: {\r\n    margin: theme.spacing(2),\r\n    color: theme.palette.protectedTitle\r\n  },\r\n  error: {\r\n    verticalAlign: 'middle'\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 300\r\n  },\r\n  submit: {\r\n    margin: 'auto',\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n  bigAvatar: {\r\n    width: 60,\r\n    height: 60,\r\n    margin: 'auto'\r\n  },\r\n  input: {\r\n    display: 'none'\r\n  },\r\n  filename:{\r\n    marginLeft:'10px'\r\n  }\r\n}))\r\n\r\nexport default function EditProfile({ match }) {\r\n  const classes = useStyles()\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    about: '',\r\n    photo: '',\r\n    email: '',\r\n    password: '',\r\n    redirectToProfile: false,\r\n    error: '',\r\n    id: ''\r\n  })\r\n  const jwt = auth.isAuthenticated()\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController()\r\n    const signal = abortController.signal\r\n\r\n    read({\r\n      userId: match.params.userId\r\n    }, {t: jwt.token}, signal).then((data) => {\r\n      if (data & data.error) {\r\n        setValues({...values, error: data.error})\r\n      } else {\r\n        setValues({...values, id: data._id, name: data.name, email: data.email, about: data.about})\r\n      }\r\n    })\r\n    return function cleanup(){\r\n      abortController.abort()\r\n    }\r\n\r\n  }, [match.params.userId])\r\n  \r\n  const clickSubmit = () => {\r\n    let userData = new FormData()\r\n    values.name && userData.append('name', values.name)\r\n    values.email && userData.append('email', values.email)\r\n    values.passoword && userData.append('passoword', values.passoword)\r\n    values.about && userData.append('about', values.about)\r\n    values.photo && userData.append('photo', values.photo)\r\n    update({\r\n      userId: match.params.userId\r\n    }, {\r\n      t: jwt.token\r\n    }, userData).then((data) => {\r\n      if (data && data.error) {\r\n        setValues({...values, error: data.error})\r\n      } else {\r\n        setValues({...values, 'redirectToProfile': true})\r\n      }\r\n    })\r\n  }\r\n  const handleChange = name => event => {\r\n    const value = name === 'photo'\r\n      ? event.target.files[0]\r\n      : event.target.value\r\n    //userData.set(name, value)\r\n    setValues({...values, [name]: value })\r\n  }\r\n    const photoUrl = values.id\r\n                 ? `/api/users/photo/${values.id}?${new Date().getTime()}`\r\n                 : '/api/users/defaultphoto'\r\n    if (values.redirectToProfile) {\r\n      return (<Redirect to={'/user/' + values.id}/>)\r\n    }\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Edit Profile\r\n          </Typography>\r\n          <Avatar src={photoUrl} className={classes.bigAvatar}/><br/>\r\n          <input accept=\"image/*\" onChange={handleChange('photo')} className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n          <label htmlFor=\"icon-button-file\">\r\n            <Button variant=\"contained\" color=\"default\" component=\"span\">\r\n              Upload\r\n              <FileUpload/>\r\n            </Button>\r\n          </label> <span className={classes.filename}>{values.photo ? values.photo.name : ''}</span><br/>\r\n          <TextField id=\"name\" label=\"Name\" className={classes.textField} value={values.name} onChange={handleChange('name')} margin=\"normal\"/><br/>\r\n          <TextField\r\n            id=\"multiline-flexible\"\r\n            label=\"About\"\r\n            multiline\r\n            rows=\"2\"\r\n            value={values.about}\r\n            onChange={handleChange('about')}\r\n            className={classes.textField}\r\n            margin=\"normal\"\r\n          /><br/>\r\n          <TextField id=\"email\" type=\"email\" label=\"Email\" className={classes.textField} value={values.email} onChange={handleChange('email')} margin=\"normal\"/><br/>\r\n          <TextField id=\"password\" type=\"password\" label=\"Password\" className={classes.textField} value={values.password} onChange={handleChange('password')} margin=\"normal\"/>\r\n          <br/> {\r\n            values.error && (<Typography component=\"p\" color=\"error\">\r\n              <Icon color=\"error\" className={classes.error}>error</Icon>\r\n              {values.error}\r\n            </Typography>)\r\n          }\r\n        </CardContent>\r\n        <CardActions>\r\n          <Button color=\"primary\" variant=\"contained\" onClick={clickSubmit} className={classes.submit}>Submit</Button>\r\n        </CardActions>\r\n      </Card>\r\n    )\r\n}\r\n","import React, {useState} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport auth from './../auth/auth-helper'\r\nimport {remove} from './api-user.js'\r\nimport {Redirect, Link} from 'react-router-dom'\r\n\r\nexport default function DeleteUser(props) {\r\n  const [open, setOpen] = useState(false)\r\n  const [redirect, setRedirect] = useState(false)\r\n  \r\n  const jwt = auth.isAuthenticated()\r\n  const clickButton = () => {\r\n    setOpen(true)\r\n  }\r\n  const deleteAccount = () => { \r\n    remove({\r\n      userId: props.userId\r\n    }, {t: jwt.token}).then((data) => {\r\n      if (data && data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        auth.clearJWT(() => console.log('deleted'))\r\n        setRedirect(true)\r\n      }\r\n    })\r\n  }\r\n  const handleRequestClose = () => {\r\n    setOpen(false)\r\n  }\r\n\r\n    if (redirect) {\r\n      return <Redirect to='/'/>\r\n    }\r\n    return (<span>\r\n      <IconButton aria-label=\"Delete\" onClick={clickButton} color=\"secondary\">\r\n        <DeleteIcon/>\r\n      </IconButton>\r\n\r\n      <Dialog open={open} onClose={handleRequestClose}>\r\n        <DialogTitle>{\"Delete Account\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Confirm to delete your account.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleRequestClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={deleteAccount} color=\"secondary\" autoFocus=\"autoFocus\">\r\n            Confirm\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </span>)\r\n}\r\nDeleteUser.propTypes = {\r\n  userId: PropTypes.string.isRequired\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport {unfollow, follow} from './api-user.js'\r\n\r\nexport default function FollowProfileButton (props) {\r\n  const followClick = () => {\r\n    props.onButtonClick(follow)\r\n  }\r\n  const unfollowClick = () => {\r\n    props.onButtonClick(unfollow)\r\n  }\r\n    return (<div>\r\n      { props.following\r\n        ? (<Button variant=\"contained\" color=\"secondary\" onClick={unfollowClick}>Unfollow</Button>)\r\n        : (<Button variant=\"contained\" color=\"primary\" onClick={followClick}>Follow</Button>)\r\n      }\r\n    </div>)\r\n}\r\nFollowProfileButton.propTypes = {\r\n  following: PropTypes.bool.isRequired,\r\n  onButtonClick: PropTypes.func.isRequired\r\n}\r\n","import React from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {Link} from 'react-router-dom'\r\nimport GridList from '@material-ui/core/GridList'\r\nimport GridListTile from '@material-ui/core/GridListTile'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingTop: theme.spacing(2),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n    background: theme.palette.background.paper,\r\n  },\r\n  bigAvatar: {\r\n    width: 60,\r\n    height: 60,\r\n    margin: 'auto'\r\n  },\r\n  gridList: {\r\n    width: 500,\r\n    height: 220,\r\n  },\r\n  tileText: {\r\n    textAlign: 'center',\r\n    marginTop: 10\r\n  }\r\n}))\r\nexport default function FollowGrid (props) {\r\n  const classes = useStyles()\r\n    return (<div className={classes.root}>\r\n      <GridList cellHeight={160} className={classes.gridList} cols={4}>\r\n        {props.people.map((person, i) => {\r\n           return  <GridListTile style={{'height':120}} key={i}>\r\n              <Link to={\"/user/\" + person._id}>\r\n                <Avatar src={'/api/users/photo/'+person._id} className={classes.bigAvatar}/>\r\n                <Typography className={classes.tileText}>{person.name}</Typography>\r\n              </Link>\r\n            </GridListTile>\r\n        })}\r\n      </GridList>\r\n    </div>)\r\n}\r\n\r\nFollowGrid.propTypes = {\r\n  people: PropTypes.array.isRequired\r\n}\r\n\r\n","import React, {useState} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport FollowGrid from './../user/FollowGrid'\r\nimport PostList from './../post/PostList'\r\n\r\nexport default function ProfileTabs ( props ){\r\n  const [tab, setTab] = useState(0)\r\n\r\n  const handleTabChange = (event, value) => {\r\n    setTab(value)\r\n  }\r\n\r\n    return (\r\n    <div>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={tab}\r\n            onChange={handleTabChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant=\"fullWidth\"\r\n          >\r\n            <Tab label=\"Posts\" />\r\n            <Tab label=\"Following\" />\r\n            <Tab label=\"Followers\" />\r\n          </Tabs>\r\n        </AppBar>\r\n       {tab === 0 && <TabContainer><PostList removeUpdate={props.removePostUpdate} posts={props.posts}/></TabContainer>}\r\n       {tab === 1 && <TabContainer><FollowGrid people={props.user.following}/></TabContainer>}\r\n       {tab === 2 && <TabContainer><FollowGrid people={props.user.followers}/></TabContainer>}\r\n    </div>)\r\n  \r\n}\r\n\r\nProfileTabs.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  removePostUpdate: PropTypes.func.isRequired,\r\n  posts: PropTypes.array.isRequired\r\n}\r\n\r\nconst TabContainer = (props) => {\r\n  return (\r\n    <Typography component=\"div\" style={{ padding: 8 * 2 }}>\r\n      {props.children}\r\n    </Typography>\r\n  )\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction' \r\nimport ListItemText from '@material-ui/core/ListItemText' \r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Edit from '@material-ui/icons/Edit'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport DeleteUser from './DeleteUser'\r\nimport auth from './../auth/auth-helper'\r\nimport {read} from './api-user.js'\r\nimport {Redirect, Link} from 'react-router-dom'\r\nimport FollowProfileButton from './../user/FollowProfileButton'\r\nimport ProfileTabs from './../user/ProfileTabs'\r\nimport {listByUser} from './../post/api-post.js'\r\nimport { apiUrl } from '../../config'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: theme.mixins.gutters({\r\n    maxWidth: 600,\r\n    margin: 'auto',\r\n    padding: theme.spacing(3),\r\n    marginTop: theme.spacing(5)\r\n  }),\r\n  title: {\r\n    margin: `${theme.spacing(2)}px ${theme.spacing(1)}px 0`,\r\n    color: theme.palette.protectedTitle,\r\n    fontSize: '1em'\r\n  },\r\n  bigAvatar: {\r\n    width: 60,\r\n    height: 60,\r\n    margin: 10\r\n  }\r\n}))\r\n\r\nexport default function Profile({ match }) {\r\n  const classes = useStyles()\r\n  const [values, setValues] = useState({\r\n    user: {following:[], followers:[]},\r\n    redirectToSignin: false,\r\n    following: false\r\n  })\r\n  const [posts, setPosts] = useState([])\r\n  const jwt = auth.isAuthenticated()\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController()\r\n    const signal = abortController.signal\r\n  \r\n    read({\r\n      userId: match.params.userId\r\n    }, {t: jwt.token}, signal).then((data) => {\r\n      if (data && data.error) {\r\n        setValues({...values, redirectToSignin: true})\r\n      } else {\r\n        let following = checkFollow(data)\r\n        setValues({...values, user: data, following: following})\r\n        loadPosts(data._id)\r\n      }\r\n    })\r\n    return function cleanup(){\r\n      abortController.abort()\r\n    }\r\n\r\n  }, [match.params.userId])\r\n  \r\n  const checkFollow = (user) => {\r\n    const match = user.followers.some((follower)=> {\r\n      return follower._id == jwt.user._id\r\n    })\r\n    return match\r\n  }\r\n  const clickFollowButton = (callApi) => {\r\n    callApi({\r\n      userId: jwt.user._id\r\n    }, {\r\n      t: jwt.token\r\n    }, values.user._id).then((data) => {\r\n      if (data.error) {\r\n        setValues({...values, error: data.error})\r\n      } else {\r\n        setValues({...values, user: data, following: !values.following})\r\n      }\r\n    })\r\n  }\r\n  const loadPosts = (user) => {\r\n    listByUser({\r\n      userId: user\r\n    }, {\r\n      t: jwt.token\r\n    }).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setPosts(data)\r\n      }\r\n    })\r\n  }\r\n  const removePost = (post) => {\r\n    console.log('post ' + JSON.stringify(post))\r\n    const updatedPosts = posts.filter(item => item._id != post._id)\r\n    setPosts(updatedPosts)\r\n  }\r\n\r\n    const photoUrl = values.user._id\r\n              ? `${apiUrl}/api/users/photo/${values.user._id}?${new Date().getTime()}`\r\n              : apiUrl+'/api/users/defaultphoto'\r\n    if (values.redirectToSignin) {\r\n      return <Redirect to='/signin'/>\r\n    }\r\n    return (\r\n      <Paper className={classes.root} elevation={4}>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Profile\r\n        </Typography>\r\n        <List dense>\r\n          <ListItem>\r\n            <ListItemAvatar>\r\n              <Avatar src={photoUrl} className={classes.bigAvatar}/>\r\n            </ListItemAvatar>\r\n            <ListItemText primary={values.user.name} secondary={values.user.email}/> {\r\n             auth.isAuthenticated().user && auth.isAuthenticated().user._id == values.user._id\r\n             ? (<ListItemSecondaryAction>\r\n                  <Link to={\"/user/edit/\" + values.user._id}>\r\n                    <IconButton aria-label=\"Edit\" color=\"primary\">\r\n                      <Edit/>\r\n                    </IconButton>\r\n                  </Link>\r\n                  <DeleteUser userId={values.user._id}/>\r\n                </ListItemSecondaryAction>)\r\n            : (<FollowProfileButton following={values.following} onButtonClick={clickFollowButton}/>)\r\n            }\r\n          </ListItem>\r\n          <Divider/>\r\n          <ListItem>\r\n            <ListItemText primary={values.user.about} secondary={\"Joined: \" + (\r\n              new Date(values.user.created)).toDateString()}/>\r\n          </ListItem>\r\n        </List>\r\n        <ProfileTabs user={values.user} posts={posts} removePostUpdate={removePost}/>\r\n      </Paper>\r\n    )\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport auth from './auth-helper'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route {...rest} render={props => (\r\n    auth.isAuthenticated() ? (\r\n      <Component {...props}/>\r\n    ) : (\r\n      <Redirect to={{\r\n        pathname: '/signin',\r\n        state: { from: props.location }\r\n      }}/>\r\n    )\r\n  )}/>\r\n)\r\n\r\nexport default PrivateRoute\r\n","import React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport Button from '@material-ui/core/Button'\r\nimport auth from './../auth/auth-helper'\r\nimport {Link, withRouter} from 'react-router-dom'\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname == path)\r\n    return {color: '#ffa726'}\r\n  else\r\n    return {color: '#ffffff'}\r\n}\r\nconst Menu = withRouter(({history}) => (\r\n  <AppBar position=\"static\">\r\n    <Toolbar>\r\n      <Typography variant=\"h6\" color=\"inherit\">\r\n        Social Media\r\n      </Typography>\r\n      <Link to=\"/\">\r\n        <IconButton aria-label=\"Home\" style={isActive(history, \"/\")}>\r\n          <HomeIcon/>\r\n        </IconButton>\r\n      </Link>\r\n      {\r\n        !auth.isAuthenticated() && (<span>\r\n          <Link to=\"/signup\">\r\n            <Button style={isActive(history, \"/signup\")}>Sign up\r\n            </Button>\r\n          </Link>\r\n          <Link to=\"/signin\">\r\n            <Button style={isActive(history, \"/signin\")}>Sign In\r\n            </Button>\r\n          </Link>\r\n        </span>)\r\n      }\r\n      {\r\n        auth.isAuthenticated() && (<span>\r\n          <Link to=\"/users\">\r\n            <Button style={isActive(history, \"/users\")}>All Users</Button>\r\n          </Link>\r\n          <Link to={\"/user/\" + auth.isAuthenticated().user._id}>\r\n            <Button style={isActive(history, \"/user/\" + auth.isAuthenticated().user._id)}>My Profile</Button>\r\n          </Link>\r\n          <Button color=\"inherit\" onClick={() => {\r\n              auth.clearJWT(() => history.push('/'))\r\n            }}>Sign out</Button>\r\n        </span>)\r\n      }\r\n    </Toolbar>\r\n  </AppBar>\r\n))\r\n\r\nexport default Menu\r\n","import React, {Component} from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport Home from './components/core/Home'\r\nimport Users from './components/user/Users'\r\nimport Signup from './components/user/Signup'\r\nimport Signin from './components/auth/Signin'\r\nimport EditProfile from './components/user/EditProfile'\r\nimport Profile from './components/user/Profile'\r\nimport PrivateRoute from './components/auth/PrivateRoute'\r\nimport Menu from './components/core/Menu'\r\n\r\nconst MainRouter = () => {\r\n    return (<div>\r\n      <Menu/>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home}/>\r\n        <Route path=\"/users\" component={Users}/>\r\n        <Route path=\"/signup\" component={Signup}/>\r\n        <Route path=\"/signin\" component={Signin}/>\r\n        <PrivateRoute path=\"/user/edit/:userId\" component={EditProfile}/>\r\n        <Route path=\"/user/:userId\" component={Profile}/>\r\n      </Switch>\r\n    </div>)\r\n}\r\n\r\nexport default MainRouter\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\nimport { teal, orange } from '@material-ui/core/colors'\r\n\r\nconst theme = createMuiTheme({\r\n    // palette: {\r\n    //   primary: {\r\n    //   light: '#52c7b8',\r\n    //   main: '#009688',\r\n    //   dark: '#00675b',\r\n    //   contrastText: '#fff',\r\n    // },\r\n    // secondary: {\r\n    //   light: '#ffd95b',\r\n    //   main: '#ffa726',\r\n    //   dark: '#c77800',\r\n    //   contrastText: '#000',\r\n    // },\r\n    //   openTitle: teal['700'],\r\n    //   protectedTitle: orange['700'],\r\n    //   type: 'light'\r\n    // }\r\n  })\r\n\r\n  export default theme  ","import React, {useEffect} from 'react'\r\nimport MainRouter from './MainRouter'\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport theme from './theme'\r\nimport { ThemeProvider } from '@material-ui/styles'\r\nimport './App.css';\r\n\r\nfunction App() {\r\n   // This effect runs once, after the first render\r\n   useEffect(() => {\r\n    document.title = \"Social Media\"\r\n  }, [])\r\n  return (\r\n    <BrowserRouter>\r\n        <ThemeProvider theme={theme}>\r\n          <MainRouter/>\r\n        </ThemeProvider>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}